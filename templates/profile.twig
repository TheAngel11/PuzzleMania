{% extends "base.twig" %}

{% block title %}Profile | PuzzleMania{% endblock %}

{% block content %}
    <div class="text-center">
        <h1 class="mt-5" data-cy="profile">{{ username }}'s Profile</h1>
        {% if formData.picture %}
            <img src="{{ full_url_for('showHome') }}uploads/{{ formData.picture }}" alt="profilePic" class="mt-3" width="400" height="400">
        {% else %}
            <img src="{{ full_url_for('showHome') }}uploads/placeholder_pic.png" alt="profilePic" class="mt-3" width="400" height="400">
        {% endif %}

        <form action="{{ formAction }}" method="POST" class="form-signin" enctype="multipart/form-data">
            <input disabled type="text" name="email" value="{{ formData.email }}" class="form-control mb-2">
            <input type="file" name="file" class="form-control">
            <input type="submit" value="Update" class="btn btn-lg btn-primary btn-block">
        </form>
        {% if formErrors.fileSize %}
            <p class="invalid-feedback mb-2 pb-4 h3" style="display: block">{{ formErrors.fileSize }}</p>
        {% endif %}

        {% if formErrors.fileExtension %}
            <p class="invalid-feedback mb-2 pb-4 h3" style="display: block">{{ formErrors.fileExtension }}</p>
        {% endif %}

        {% if formErrors.fileDimensions %}
            <p class="invalid-feedback mb-2 pb-4 h3" style="display: block">{{ formErrors.fileDimensions }}</p>
        {% endif %}
    </div>
{% endblock %}
